# üîß –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ Hetzner —Å –Ω—É–ª—è

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 31 –æ–∫—Ç—è–±—Ä—è 2025  
**–û–°:** Ubuntu 24.04.3 LTS  
**IP —Å–µ—Ä–≤–µ—Ä–∞:** 46.224.27.19  
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** root

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É](#–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ-–∫-—Å–µ—Ä–≤–µ—Ä—É)
2. [–®–∞–≥ 1: –ü–µ—Ä–≤–∏—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞](#—à–∞–≥-1-–ø–µ—Ä–≤–∏—á–Ω–∞—è-–ø—Ä–æ–≤–µ—Ä–∫–∞)
3. [–®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤](#—à–∞–≥-2-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-—Å–∏—Å—Ç–µ–º—ã)
4. [–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ Swap](#—à–∞–≥-3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–≤—Ä–µ–º–µ–Ω–∏-–∏-swap)
5. [–®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall (UFW)](#—à–∞–≥-4-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-firewall)
6. [–®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Fail2ban](#—à–∞–≥-5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-fail2ban)
7. [–®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π](#—à–∞–≥-6-–∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
8. [–®–∞–≥ 7: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞](#—à–∞–≥-7-–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞)
9. [–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏](#–ø—Ä–æ–≤–µ—Ä–∫–∞-–ø–æ—Å–ª–µ-–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏)

---

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

### –° –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (macOS):

```bash
ssh root@46.224.27.19
```

–ò–ª–∏ –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω SSH config:
```bash
ssh hetzner
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ - –≤–≤–µ–¥–∏—Ç–µ `yes`, –∑–∞—Ç–µ–º –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å root.

---

## ‚úÖ –®–∞–≥ 1: –ü–µ—Ä–≤–∏—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å "root")
whoami

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å IP –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞
hostname -I

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
uname -a

# –í–µ—Ä—Å–∏—è Ubuntu
cat /etc/os-release | grep PRETTY_NAME

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `root`
- –û–°: `Ubuntu 24.04.3 LTS`
- –ü–∞–º—è—Ç—å: ~7.6 GB RAM
- –î–∏—Å–∫: ~75 GB

---

## üì¶ –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### 2.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏ —Å–∏—Å—Ç–µ–º—ã

```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
apt update

# –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π
apt upgrade -y
```

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 2-5 –º–∏–Ω—É—Ç  
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –û–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã, –≤–∫–ª—é—á–∞—è —è–¥—Ä–æ Linux

### 2.2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã
apt install -y curl wget git zip unzip ufw fail2ban htop nano vim
```

**–ß—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:**
- `curl`, `wget` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- `git` - —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
- `zip`, `unzip` - –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä—ã
- `ufw` - —Ñ–∞–π—Ä–≤–æ–ª
- `fail2ban` - –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫
- `htop` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
- `nano`, `vim` - —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é curl
curl --version

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å fail2ban
systemctl status fail2ban
```

---

## üïê –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ Swap

### 3.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
date

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤ –¥–ª—è –ï–≤—Ä–æ–ø—ã
timedatectl list-timezones | grep Europe

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤ –¥–ª—è –ê–∑–∏–∏ (–¥–ª—è –ê—Ä–º–µ–Ω–∏–∏/–ï—Ä–µ–≤–∞–Ω–∞)
timedatectl list-timezones | grep Asia/Yerevan

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–ø—Ä–∏–º–µ—Ä—ã):
# –î–ª—è –ú–æ—Å–∫–≤—ã:
timedatectl set-timezone Europe/Moscow

# –î–ª—è –ö–∏–µ–≤–∞:
# timedatectl set-timezone Europe/Kyiv

# –î–ª—è –ú–∏–Ω—Å–∫–∞:
# timedatectl set-timezone Europe/Minsk

# –î–ª—è –ï—Ä–µ–≤–∞–Ω–∞ (–ê—Ä–º–µ–Ω–∏—è):
timedatectl set-timezone Asia/Yerevan

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è —Å–Ω–æ–≤–∞
date
```

### 3.2. –°–æ–∑–¥–∞–Ω–∏–µ Swap-—Ñ–∞–π–ª–∞

Swap - —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –Ω–∞ –¥–∏—Å–∫–µ. –ù—É–∂–Ω–∞ –∫–æ–≥–¥–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å.

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π swap (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 0)
free -h

# 2. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –ø–æ–¥–∫–∞—á–∫–∏ 2GB
fallocate -l 2G /swapfile

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ (—Ç–æ–ª—å–∫–æ root –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å)
chmod 600 /swapfile

# 4. –°–¥–µ–ª–∞—Ç—å —Ñ–∞–π–ª swap-—Ñ–∞–π–ª–æ–º
mkswap /swapfile

# 5. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å swap
swapon /swapfile

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ swap —Ä–∞–±–æ—Ç–∞–µ—Ç (–¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å 2.0Gi Swap)
free -h

# 7. –°–¥–µ–ª–∞—Ç—å swap –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º (—á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏)
echo '/swapfile none swap sw 0 0' | tee -a /etc/fstab

# 8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞–ø–∏—Å–∞–ª–æ—Å—å –≤ fstab
cat /etc/fstab
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –î–æ: `Swap: 0B`
- –ü–æ—Å–ª–µ: `Swap: 2.0Gi`

---

## üî• –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall (UFW)

Firewall –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É, —Ä–∞–∑—Ä–µ—à–∞—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ—Ä—Ç—ã.

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å firewall
ufw status

# 2. –†–∞–∑—Ä–µ—à–∏—Ç—å SSH (–í–ê–ñ–ù–û! –î–µ–ª–∞–µ–º –ø–µ—Ä–≤—ã–º, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø)
ufw allow 22/tcp

# 3. –†–∞–∑—Ä–µ—à–∏—Ç—å HTTP (–¥–ª—è –≤–µ–±-—Å–∞–π—Ç–æ–≤)
ufw allow 80/tcp

# 4. –†–∞–∑—Ä–µ—à–∏—Ç—å HTTPS (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Å–∞–π—Ç–æ–≤)
ufw allow 443/tcp

# 5. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π
ufw show added

# 6. –í–∫–ª—é—á–∏—Ç—å firewall
ufw enable
# –û—Ç–≤–µ—Ç–∏—Ç—å "y" –Ω–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
ufw status verbose
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Status: active
To                         Action      From
--                         ------      ----
22/tcp                     ALLOW IN    Anywhere
80/tcp                     ALLOW IN    Anywhere
443/tcp                    ALLOW IN    Anywhere
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –í—Å–µ–≥–¥–∞ —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑—Ä–µ—à–∞–π SSH (–ø–æ—Ä—Ç 22), –∏–Ω–∞—á–µ –ø–æ—Ç–µ—Ä—è–µ—à—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É!

---

## üõ°Ô∏è –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Fail2ban

Fail2ban –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫ - –±–ª–æ–∫–∏—Ä—É–µ—Ç IP –∞–¥—Ä–µ—Å–∞ –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö –≤—Ö–æ–¥–∞.

### 5.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å fail2ban
systemctl status fail2ban

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ jail –∞–∫—Ç–∏–≤–Ω—ã (–∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã)
fail2ban-client status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å SSH jail (–∑–∞—â–∏—Ç–∞ SSH)
fail2ban-client status sshd

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SSH jail
cat /etc/fail2ban/jail.d/defaults-debian.conf
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Fail2ban –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `active (running)`
- SSH jail –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `enabled = true`

### 5.2. Fail2ban —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

Fail2ban —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –±—É–¥–µ—Ç:
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ –≤ SSH
- –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP –ø–æ—Å–ª–µ 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ IP
fail2ban-client status sshd | grep "Banned IP"
```

---

## üîÑ –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ–º–æ–≥—É—Ç —Å–µ—Ä–≤–µ—Ä—É –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –∑–∞—â–∏—â–µ–Ω–Ω—ã–º.

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ç–∏–ª–∏—Ç—É –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
apt install -y unattended-upgrades

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
dpkg-reconfigure -plow unattended-upgrades
# –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –æ–∫–Ω–µ –≤—ã–±—Ä–∞—Ç—å "Yes" (–î–∞)

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cat /etc/apt/apt.conf.d/50unattended-upgrades | head -30

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
systemctl status unattended-upgrades --no-pager

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∫–ª—é—á–µ–Ω –ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫
systemctl is-enabled unattended-upgrades
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: enabled

# 6. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
tail -20 /var/log/unattended-upgrades/unattended-upgrades.log
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è **–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
- –û–±—ã—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

---

## üîÅ –®–∞–≥ 7: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (–æ—Å–æ–±–µ–Ω–Ω–æ –Ω–æ–≤–æ–≥–æ —è–¥—Ä–∞).

```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
reboot
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** 
- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã `reboot` —Ç—ã **–æ—Ç–∫–ª—é—á–∏—à—å—Å—è –æ—Ç SSH**
- –ü–æ–¥–æ–∂–¥–∏ **1-2 –º–∏–Ω—É—Ç—ã** –ø–æ–∫–∞ —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è
- –ó–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –ø–æ–¥–∫–ª—é—á–∏—Å—å:
  ```bash
  ssh root@46.224.27.19
  ```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é —è–¥—Ä–∞ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 6.8.0-87-generic)
uname -r

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å swap (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)
free -h

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å active)
ufw status

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å fail2ban (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å active)
systemctl status fail2ban --no-pager

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å enabled)
systemctl is-enabled unattended-upgrades

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h
```

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

### –†–µ—Å—É—Ä—Å—ã:
- **–û–°:** Ubuntu 24.04.3 LTS
- **–ü–∞–º—è—Ç—å:** 7.6 GB RAM
- **Swap:** 2 GB
- **–î–∏—Å–∫:** 75 GB
- **IP:** 46.224.27.19

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚úÖ Firewall (UFW) - –∞–∫—Ç–∏–≤–µ–Ω, –ø–æ—Ä—Ç—ã 22, 80, 443 –æ—Ç–∫—Ä—ã—Ç—ã
- ‚úÖ Fail2ban - –∑–∞—â–∏—Ç–∞ SSH –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫
- ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - –≤–∫–ª—é—á–µ–Ω—ã
- ‚úÖ Swap - —Å–æ–∑–¥–∞–Ω –∏ –∞–∫—Ç–∏–≤–µ–Ω

### –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- curl, wget, git, zip, unzip
- htop, nano, vim
- ufw, fail2ban

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤:
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU, –ø–∞–º—è—Ç–∏, –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
htop

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É —Å–∏—Å—Ç–µ–º—ã
uptime
```

### –†–∞–±–æ—Ç–∞ —Å Firewall:
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å
ufw status verbose

# –†–∞–∑—Ä–µ—à–∏—Ç—å –Ω–æ–≤—ã–π –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3000 –¥–ª—è Node.js)
ufw allow 3000/tcp

# –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ—Ä—Ç
ufw deny 3000/tcp

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞
ufw reload
```

### –†–∞–±–æ—Ç–∞ —Å Fail2ban:
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å
fail2ban-client status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ IP –¥–ª—è SSH
fail2ban-client status sshd

# –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP –≤—Ä—É—á–Ω—É—é
fail2ban-client set sshd unbanip IP_–ê–î–†–ï–°
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:
```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
apt update

# –û–±–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã (–≤—Ä—É—á–Ω—É—é)
apt upgrade -y

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫–∏–µ –ø–∞–∫–µ—Ç—ã –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å
apt list --upgradable
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```bash
# –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫)
journalctl -n 50

# –õ–æ–≥–∏ SSH
tail -f /var/log/auth.log

# –õ–æ–≥–∏ fail2ban
tail -f /var/log/fail2ban.log
```

---

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **SSH –¥–æ—Å—Ç—É–ø:**
   - –í—Å–µ–≥–¥–∞ —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä—ã–≤–∞–π –ø–æ—Ä—Ç 22 –≤ firewall
   - –°–æ—Ö—Ä–∞–Ω—è–π —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é SSH –∫–ª—é—á–µ–π

2. **Firewall:**
   - –ù–µ –∑–∞–∫—Ä—ã–≤–∞–π –ø–æ—Ä—Ç 22, –ø–æ–∫–∞ –µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç—É–ø–∞
   - –ü—Ä–æ–≤–µ—Ä—è–π –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–¥ –≤–∫–ª—é—á–µ–Ω–∏–µ–º: `ufw show added`

3. **Swap:**
   - Swap —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –≤ `/swapfile`
   - –†–∞–∑–º–µ—Ä: 2 GB (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ —Å 7.6 GB RAM)

4. **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
   - –û–±–Ω–æ–≤–ª—è—é—Ç —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–µ –≤—Å–µ –ø–∞–∫–µ—Ç—ã
   - –ü—Ä–æ–≤–µ—Ä—è–π –ª–æ–≥–∏ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é

5. **Fail2ban:**
   - –†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –ï—Å–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —Å–µ–±—è - –ø–æ–¥–æ–∂–¥–∏ 10 –º–∏–Ω—É—Ç –∏–ª–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–π IP –≤—Ä—É—á–Ω—É—é

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –±–∞–∑–æ–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

1. **–í–µ–±-—Å–µ—Ä–≤–µ—Ä:**
   - Nginx + PHP + MySQL
   - Apache + PHP + MySQL

2. **–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
   - CyberPanel (OpenLiteSpeed)
   - VestaCP
   - Webmin

3. **Docker:**
   - Docker + Docker Compose
   - –î–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

4. **Node.js:**
   - NVM (Node Version Manager)
   - PM2 (–º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 31 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≥–æ—Ç–æ–≤–∞

