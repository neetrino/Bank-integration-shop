# üåê –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É —Å Cloudflare Proxy

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 3 –Ω–æ—è–±—Ä—è 2025  
**–°–µ—Ä–≤–µ—Ä:** Ubuntu 24.04.3 LTS (91.98.126.221)  
**–î–æ–º–µ–Ω:** server.neetrino.com  
**Cloudflare:** Proxy –≤–∫–ª—é—á–µ–Ω (Proxied = auto), SSL = Full

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ç–µ–∫—É—â–µ–≥–æ-—Å–æ—Å—Ç–æ—è–Ω–∏—è)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ PM2 (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-nodejs-–∏-pm2)
3. [–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ PM2](#–∑–∞–ø—É—Å–∫-–ø—Ä–æ–µ–∫—Ç–∞-—á–µ—Ä–µ–∑-pm2)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –¥–ª—è Cloudflare Proxy](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-nginx-–¥–ª—è-cloudflare-proxy)
5. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-ssl-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞)
6. [–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞](#—Ñ–∏–Ω–∞–ª—å–Ω–∞—è-–ø—Ä–æ–≤–µ—Ä–∫–∞)
7. [–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è](#—á–∞—Å—Ç—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã-–∏-—Ä–µ—à–µ–Ω–∏—è)

---

## üîç –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@91.98.126.221

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Node.js
node --version 2>/dev/null || echo "Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å NVM (–µ—Å–ª–∏ Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ NVM)
source ~/.nvm/nvm.sh 2>/dev/null && node --version || echo "NVM –Ω–µ –Ω–∞–π–¥–µ–Ω"

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PM2
pm2 --version 2>/dev/null || echo "PM2 –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Nginx
nginx -v 2>&1

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Certbot
certbot --version 2>/dev/null || echo "Certbot –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
ls -la /var/www/server.neetrino.com/

# 8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS (–¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å IP Cloudflare, –Ω–µ –ø—Ä—è–º–æ–π IP —Å–µ—Ä–≤–µ—Ä–∞)
dig +short server.neetrino.com

# 9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Node.js
ps aux | grep node | grep -v grep

# 10. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PM2 —Å—Ç–∞—Ç—É—Å
source ~/.nvm/nvm.sh 2>/dev/null && pm2 list || echo "PM2 –Ω–µ –∑–∞–ø—É—â–µ–Ω"
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (v20+ –∏–ª–∏ v24+)
- Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç
- Certbot —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/var/www/server.neetrino.com/`
- DNS –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç IP Cloudflare (172.67.x.x –∏–ª–∏ 104.21.x.x)

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ PM2

–ï—Å–ª–∏ Node.js –∏–ª–∏ PM2 –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –≤—ã–ø–æ–ª–Ω–∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ NVM –∏ Node.js

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å NVM
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å NVM –≤ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é
source ~/.bashrc
# –ò–ª–∏:
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
nvm --version

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é LTS –≤–µ—Ä—Å–∏—é Node.js
nvm install --lts

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ –≤–µ—Ä—Å–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
nvm alias default node

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏–∏
node --version
npm --version
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2

```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å NVM (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω)
source ~/.nvm/nvm.sh

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PM2 –≥–ª–æ–±–∞–ª—å–Ω–æ
npm install -g pm2

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é
pm2 --version

# 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ PM2 –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
pm2 startup systemd -u root --hp /root

# 5. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –ø–æ–∫–∞–∂–µ—Ç pm2 startup
# (–ö–æ–º–∞–Ω–¥–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:)
# sudo env PATH=$PATH:/root/.nvm/versions/node/v24.x.x/bin pm2 startup systemd -u root --hp /root

# 6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é PM2
pm2 save
```

**–í–∞–∂–Ω–æ:** –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–π —à–∞–≥ —Å `pm2 startup` - –±–µ–∑ –Ω–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞!

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ PM2

### –®–∞–≥ 1: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/server.neetrino.com

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å NVM
source ~/.nvm/nvm.sh

# 3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ Node.js –ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω—ã –Ω–∞–ø—Ä—è–º—É—é)
pkill -f "node.*app.js"

# 4. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏–∑ PM2 (–µ—Å–ª–∏ –µ—Å—Ç—å)
pm2 delete all 2>/dev/null || echo "PM2 –ø—É—Å—Ç"

# 5. –ü–æ–¥–æ–∂–¥–∞—Ç—å 2 —Å–µ–∫—É–Ω–¥—ã
sleep 2
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ
ls -la

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å package.json
cat package.json | head -20

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env —Ñ–∞–π–ª
cat .env

# 4. –ï—Å–ª–∏ .env –Ω–µ—Ç, —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ:
# nano .env
# –í—Å—Ç–∞–≤–∏—Ç—å:
# NODE_ENV=production
# PORT=3000
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å: Ctrl + O ‚Üí Enter ‚Üí Ctrl + X
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å production –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install --production
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ PM2

```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å NVM
source ~/.nvm/nvm.sh

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 start app.js --name neetrino-server

# 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é PM2
pm2 save

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status

# 5. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
pm2 logs neetrino-server --lines 20
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `pm2 status` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å `online` –¥–ª—è `neetrino-server`
- –õ–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ `http://localhost:3000`

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ
curl http://localhost:3000

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–ø—É—Å–∫–µ
```

---

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –¥–ª—è Cloudflare Proxy

### –í–∞–∂–Ω–æ: –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Cloudflare Proxy

–ö–æ–≥–¥–∞ –≤ Cloudflare –≤–∫–ª—é—á–µ–Ω **Proxy (Proxied = auto)** –∏ **SSL = Full**:
- –†–µ–∞–ª—å–Ω—ã–π IP –∫–ª–∏–µ–Ω—Ç–∞ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `CF-Connecting-IP`
- Cloudflare –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç SSL –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ Cloudflare
- –ú–µ–∂–¥—É Cloudflare –∏ —Å–µ—Ä–≤–µ—Ä–æ–º —Ç–∞–∫–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å HTTPS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- DNS –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç IP Cloudflare, –∞ –Ω–µ –ø—Ä—è–º–æ–π IP —Å–µ—Ä–≤–µ—Ä–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx (–±–µ–∑ SSL)

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–∞–π—Ç–∞
nano /etc/nginx/sites-available/server.neetrino.com
```

**–ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (HTTP, –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π SSL):**

```nginx
# –í—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±–µ–∑ SSL, —á–µ—Ä–µ–∑ HTTP)
server {
    listen 80;
    server_name server.neetrino.com;

    # –õ–æ–≥–∏
    access_log /var/log/nginx/server.neetrino.com.access.log;
    error_log /var/log/nginx/server.neetrino.com.error.log;

    # –ü—Ä–æ–∫—Å–∏ –Ω–∞ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 3000)
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
    location ~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

**–ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ nano:**
- `Ctrl + O` ‚Üí `Enter` ‚Üí `Ctrl + X`

### –®–∞–≥ 2: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–∞–π—Ç

```bash
# 1. –°–æ–∑–¥–∞—Ç—å —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É (–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–∞–π—Ç)
ln -s /etc/nginx/sites-available/server.neetrino.com /etc/nginx/sites-enabled/

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx (–í–ê–ñ–ù–û!)
nginx -t

# 3. –ï—Å–ª–∏ —Ç–µ—Å—Ç —É—Å–ø–µ—à–µ–Ω, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
systemctl reload nginx

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status nginx --no-pager | head -15
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `nginx -t` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å `test is successful`
- Nginx –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üîí –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Certbot (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Certbot
apt install -y certbot python3-certbot-nginx
```

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

```bash
# –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º)
certbot --nginx -d server.neetrino.com \
  --non-interactive \
  --agree-tos \
  --email admin@neetrino.com \
  --redirect

# Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –ü–æ–ª—É—á–∏—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt
# - –û–±–Ω–æ–≤–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx –¥–ª—è HTTPS
# - –ù–∞—Å—Ç—Ä–æ–∏—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–æ–±—â–µ–Ω–∏–µ "Congratulations! You have successfully enabled HTTPS"
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `/etc/letsencrypt/live/server.neetrino.com/`
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 90 –¥–Ω–µ–π (–∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
certbot certificates

# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ server.neetrino.com
```

---

## ‚öôÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx –¥–ª—è Cloudflare Proxy

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSL –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Cloudflare Proxy.

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —É–ª—É—á—à–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
# 1. –°–¥–µ–ª–∞—Ç—å backup —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp /etc/nginx/sites-available/server.neetrino.com \
   /etc/nginx/sites-available/server.neetrino.com.backup

# 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nano /etc/nginx/sites-available/server.neetrino.com
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Cloudflare

```nginx
# HTTP -> HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç
server {
    listen 80;
    server_name server.neetrino.com;
    return 301 https://$server_name$request_uri;
}

# HTTPS —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Cloudflare Proxy
server {
    listen 443 ssl http2;
    server_name server.neetrino.com;

    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Certbot)
    ssl_certificate /etc/letsencrypt/live/server.neetrino.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/server.neetrino.com/privkey.pem;
    include /etc/letsencrypt/options-ssl-nginx.conf;
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;

    # –õ–æ–≥–∏
    access_log /var/log/nginx/server.neetrino.com.access.log;
    error_log /var/log/nginx/server.neetrino.com.error.log;

    # –ü—Ä–æ–∫—Å–∏ –Ω–∞ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 3000)
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        
        # WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_cache_bypass $http_upgrade;
        
        # –ë–∞–∑–æ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # Cloudflare Proxy –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (—Ä–µ–∞–ª—å–Ω—ã–π IP –∫–ª–∏–µ–Ω—Ç–∞)
        proxy_set_header CF-Connecting-IP $http_cf_connecting_ip;
        proxy_set_header CF-Ray $http_cf_ray;
        proxy_set_header CF-Visitor $http_cf_visitor;
        
        # –¢–∞–π–º–∞—É—Ç—ã
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }

    # –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
    location ~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

**–ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å:**
- `Ctrl + O` ‚Üí `Enter` ‚Üí `Ctrl + X`

### –®–∞–≥ 3: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–í–ê–ñ–ù–û!)
nginx -t

# 2. –ï—Å–ª–∏ —Ç–µ—Å—Ç —É—Å–ø–µ—à–µ–Ω, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
systemctl reload nginx

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status nginx --no-pager | head -10
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `nginx -t` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å `test is successful`
- Nginx –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```bash
# 1. PM2 —Å—Ç–∞—Ç—É—Å
cd /var/www/server.neetrino.com
source ~/.nvm/nvm.sh
pm2 status

# 2. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
certbot certificates | grep -A 3 server.neetrino.com

# 3. Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞
ls -la /etc/nginx/sites-enabled/server.neetrino.com

# 4. –ü–æ—Ä—Ç 3000 —Å–ª—É—à–∞–µ—Ç—Å—è
netstat -tlnp | grep :3000

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ
curl http://localhost:3000
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç (–¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ HTTPS)
curl -I http://server.neetrino.com

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTTPS
curl -I https://server.neetrino.com

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
curl https://server.neetrino.com
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- HTTP –¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ HTTPS (–∫–æ–¥ 301)
- HTTPS –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ–¥ 200
- –î–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è JSON —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `server: cloudflare` (Cloudflare Proxy —Ä–∞–±–æ—Ç–∞–µ—Ç)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://server.neetrino.com`
2. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–µ–ª—ë–Ω—ã–π –∑–∞–º–æ—á–µ–∫ (HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç)
3. –î–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è JSON –æ—Ç–≤–µ—Ç –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üö® –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Node.js –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ PATH

**–°–∏–º–ø—Ç–æ–º:** –ö–æ–º–∞–Ω–¥–∞ `node --version` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ NVM —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å NVM –≤ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é
source ~/.nvm/nvm.sh

# –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ ~/.bashrc (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ)
echo 'export NVM_DIR="$HOME/.nvm"' >> ~/.bashrc
echo '[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"' >> ~/.bashrc
source ~/.bashrc
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: PM2 –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

**–°–∏–º–ø—Ç–æ–º:** –ü–æ—Å–ª–µ `reboot` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å NVM
source ~/.nvm/nvm.sh

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ PM2 —Å–Ω–æ–≤–∞
pm2 startup systemd -u root --hp /root

# 3. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –∫–æ—Ç–æ—Ä—É—é –ø–æ–∫–∞–∂–µ—Ç pm2 startup

# 4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é PM2
pm2 save

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
pm2 list
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Nginx –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 502 Bad Gateway

**–ü—Ä–∏—á–∏–Ω—ã:**
- Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç –≤ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ
pm2 status

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
netstat -tlnp | grep :3000

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cat /etc/nginx/sites-available/server.neetrino.com | grep proxy_pass

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Nginx
tail -20 /var/log/nginx/server.neetrino.com.error.log

# 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 restart neetrino-server
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
certbot certificates

# 2. –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤—Ä—É—á–Ω—É—é
certbot renew --force-renewal

# 3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
systemctl reload nginx

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nginx -t
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: Cloudflare Proxy –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π IP

**–°–∏–º–ø—Ç–æ–º:** –í –ª–æ–≥–∞—Ö –≤–∏–¥–µ–Ω IP Cloudflare –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ IP –∫–ª–∏–µ–Ω—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
–£–±–µ–¥–∏—Å—å —á—Ç–æ –≤ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –µ—Å—Ç—å:
```nginx
proxy_set_header CF-Connecting-IP $http_cf_connecting_ip;
```

–ó–∞—Ç–µ–º –≤ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π:
```javascript
const realIP = req.headers['cf-connecting-ip'] || req.headers['x-real-ip'];
```

### –ü—Ä–æ–±–ª–µ–º–∞ 6: DNS –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º:** –î–æ–º–µ–Ω –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, DNS –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –¥–æ–º–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS
dig +short server.neetrino.com

# 2. –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å IP Cloudflare (172.67.x.x –∏–ª–∏ 104.21.x.x)
# –ï—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä—è–º–æ–π IP —Å–µ—Ä–≤–µ—Ä–∞ (91.98.126.221), –∑–Ω–∞—á–∏—Ç Proxy –≤—ã–∫–ª—é—á–µ–Ω

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Cloudflare –ø–∞–Ω–µ–ª–∏:
# - DNS –∑–∞–ø–∏—Å—å –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å "Proxied" –≤–∫–ª—é—á–µ–Ω (–æ—Ä–∞–Ω–∂–µ–≤–æ–µ –æ–±–ª–∞–∫–æ)
# - SSL/TLS —Ä–µ–∂–∏–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "Full" –∏–ª–∏ "Full (strict)"
```

---

## üìä –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º:

```bash
# –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
ssh root@91.98.126.221 "cd /var/www/server.neetrino.com && source ~/.nvm/nvm.sh && pm2 status"

# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
ssh root@91.98.126.221 "cd /var/www/server.neetrino.com && source ~/.nvm/nvm.sh && pm2 logs neetrino-server --lines 50"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
ssh root@91.98.126.221 "cd /var/www/server.neetrino.com && source ~/.nvm/nvm.sh && pm2 restart neetrino-server"

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
ssh root@91.98.126.221 "cd /var/www/server.neetrino.com && source ~/.nvm/nvm.sh && pm2 monit"
```

### –õ–æ–≥–∏ Nginx:

```bash
# –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞
ssh root@91.98.126.221 "tail -f /var/log/nginx/server.neetrino.com.access.log"

# –õ–æ–≥–∏ –æ—à–∏–±–æ–∫
ssh root@91.98.126.221 "tail -f /var/log/nginx/server.neetrino.com.error.log"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
ssh root@91.98.126.221 "certbot certificates"

# –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
ssh root@91.98.126.221 "certbot renew --dry-run"
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞

–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:

- [ ] Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] PM2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
- [ ] –ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/var/www/server.neetrino.com/`
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`npm install --production`)
- [ ] `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ PM2 (`pm2 status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `online`)
- [ ] Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ Cloudflare (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `dig`)
- [ ] –í Cloudflare Proxy –≤–∫–ª—é—á–µ–Ω (Proxied = auto)
- [ ] –í Cloudflare SSL —Ä–µ–∂–∏–º = Full
- [ ] Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –¥–æ–º–µ–Ω–∞
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ Certbot
- [ ] Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Cloudflare Proxy
- [ ] HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ HTTPS
- [ ] –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `https://server.neetrino.com`
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω

---

## üìù –ò—Ç–æ–≥–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–î–æ–º–µ–Ω:** https://server.neetrino.com  
**–°–µ—Ä–≤–µ—Ä:** 91.98.126.221  
**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** `/var/www/server.neetrino.com/`  
**PM2 –ø—Ä–æ—Ü–µ—Å—Å:** `neetrino-server`  
**–ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** 3000  
**Cloudflare:** Proxy –≤–∫–ª—é—á–µ–Ω, SSL = Full

**–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
- Nginx: `/etc/nginx/sites-available/server.neetrino.com`
- SSL: `/etc/letsencrypt/live/server.neetrino.com/`
- PM2: `/root/.pm2/dump.pm2`

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 3 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≥–æ—Ç–æ–≤–∞

**–í–∞–∂–Ω–æ:** –í—ã–ø–æ–ª–Ω—è–π —à–∞–≥–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É, –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π –ø—Ä–æ–≤–µ—Ä–∫–∏! –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –≤–µ—Ä–Ω–∏—Å—å –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —à–∞–≥—É –∏ –ø—Ä–æ–≤–µ—Ä—å.

