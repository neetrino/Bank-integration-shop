# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Ameriabank –≤ –ø–ª–∞–≥–∏–Ω–∞—Ö PlanetStudio –∏ HK Agency

## üìã –¶–µ–ª—å –∞–Ω–∞–ª–∏–∑–∞

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –ø–ª–∞–≥–∏–Ω—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç –º–æ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ vPOS 3.1.

---

## üîç –ê–Ω–∞–ª–∏–∑ –ø–æ –ø—É–Ω–∫—Ç–∞–º

### 1. Currency (–í–∞–ª—é—Ç–∞) - —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã ISO 4217

#### ‚úÖ HK Agency - –ü–†–ê–í–ò–õ–¨–ù–û
**–§–∞–π–ª:** `HK Agency/payment-gateway-for-ameriabank/includes/main.php`

**–°—Ç—Ä–æ–∫–∞ 22:**
```php
private $currencies = ['AMD' => '051', 'RUB' => '643', 'USD' => '840', 'EUR' => '978', 'SEK' => '752'];
```

**–°—Ç—Ä–æ–∫–∞ 102-104:**
```php
if ($this->multi_currency) {
    $this->currencies = ['AMD' => '051', 'RUB' => '643', 'USD' => '840', 'EUR' => '978', 'SEK' => '752', 'GBP' => '826'];
    $wooCurrency = get_woocommerce_currency();
    $this->currency_code = $this->currencies[$wooCurrency];
}
```

**–°—Ç—Ä–æ–∫–∞ 626:**
```php
"Currency" => $this->currency_code,  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —á–∏—Å–ª–æ–≤–æ–π –∫–æ–¥ –∏–∑ –º–∞–ø–ø–∏–Ω–≥–∞
```

**‚úÖ –í—ã–≤–æ–¥:** HK Agency –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã ISO 4217 ("051", "840", "978", "643") –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –±—É–∫–≤–µ–Ω–Ω—ã–µ –∫–æ–¥—ã –≤ —á–∏—Å–ª–æ–≤—ã–µ.

---

#### ‚ö†Ô∏è PlanetStudio - –ß–ê–°–¢–ò–ß–ù–û –ü–†–ê–í–ò–õ–¨–ù–û
**–§–∞–π–ª:** `PlanetStudio Agency/arca-payment-gateway-test/endpoints/apg-ameria-bank.php`

**–°—Ç—Ä–æ–∫–∞ 197:**
```php
'Currency' => $currency,  // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑ –ë–î
```

**–°—Ç—Ä–æ–∫–∞ 40-46:**
```php
$currency_code = $apg_wc_order->get_currency();  // –ü–æ–ª—É—á–∞–µ—Ç –±—É–∫–≤–µ–Ω–Ω—ã–π –∫–æ–¥ (AMD, USD, etc.)
$currency = $wpdb->get_var(
    $wpdb->prepare(
        "SELECT code FROM {$wpdb->prefix}arca_pg_currency WHERE (abbr = %s OR code = %s) AND active = 1",
        $currency_code,
        $currency_code
    )
);
```

**‚úÖ –í—ã–≤–æ–¥:** PlanetStudio —Ö—Ä–∞–Ω–∏—Ç –≤–∞–ª—é—Ç—ã –≤ –ë–î –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–µ `code` (–∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã ISO 4217). –ü–ª–∞–≥–∏–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –±—É–∫–≤–µ–Ω–Ω—ã–µ –∫–æ–¥—ã –≤ —á–∏—Å–ª–æ–≤—ã–µ —á–µ—Ä–µ–∑ –ë–î.

**‚ö†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤ –ë–î —Ö—Ä–∞–Ω—è—Ç—Å—è –±—É–∫–≤–µ–Ω–Ω—ã–µ –∫–æ–¥—ã –≤–º–µ—Å—Ç–æ —á–∏—Å–ª–æ–≤—ã—Ö, —ç—Ç–æ –±—É–¥–µ—Ç –æ—à–∏–±–∫–æ–π. –ù–æ —Å—É–¥—è –ø–æ –ª–æ–≥–∏–∫–µ, –≤ –ø–æ–ª–µ `code` –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã.

---

### 2. OrderID - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å integer

#### ‚úÖ HK Agency - –ü–†–ê–í–ò–õ–¨–ù–û
**–°—Ç—Ä–æ–∫–∞ 621:**
```php
"OrderID" => ($this->testmode == true) ? rand(1000000, 2346000) : $order_id,
```

**‚úÖ –í—ã–≤–æ–¥:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç integer (–ª–∏–±–æ —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ, –ª–∏–±–æ ID –∑–∞–∫–∞–∑–∞ –∫–∞–∫ integer).

---

#### ‚ö†Ô∏è PlanetStudio - –ú–û–ñ–ï–¢ –ë–´–¢–¨ –°–¢–†–û–ö–û–ô
**–°—Ç—Ä–æ–∫–∞ 195:**
```php
'OrderID' => ($arca_config->orderNumberPrefix != "") ? $arca_config->orderNumberPrefix . '-' . $orderNumber : $orderNumber,
```

**‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ `orderNumberPrefix` –Ω–µ –ø—É—Å—Ç–æ–π, OrderID —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "PREFIX-123"), —á—Ç–æ **–ù–ï —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**, –≥–¥–µ —É–∫–∞–∑–∞–Ω–æ `integer`.

**‚úÖ –í—ã–≤–æ–¥:** –ë–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ - –ø—Ä–∞–≤–∏–ª—å–Ω–æ (integer), —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (—Å—Ç—Ä–æ–∫–∞).

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, OrderID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å integer. –ü—Ä–µ—Ñ–∏–∫—Å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –ø–æ–ª–µ `Opaque`.

---

### 3. PaymentState - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

#### ‚úÖ HK Agency - –ü–†–ê–í–ò–õ–¨–ù–û (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç OrderStatus)
**–°—Ç—Ä–æ–∫–∞ 1307:**
```php
if ($body->ResponseCode == '00') {
    // –ü–ª–∞—Ç–µ–∂ —É—Å–ø–µ—à–µ–Ω
}
```

**–°—Ç—Ä–æ–∫–∞ 185-206 (cron job):**
```php
if ($body->OrderStatus == 1) {  // payment_approved
    $order->update_status($this->successOrderStatus);
}
if ($body->OrderStatus == 2) {  // payment_deposited ‚úÖ
    $order->update_status($this->successOrderStatus);
}
if ($body->OrderStatus == 3) {  // payment_void
    $order->update_status('cancelled');
}
if ($body->OrderStatus == 4) {  // payment_refunded
    $order->update_status('refund');
}
if ($body->OrderStatus == 6) {  // payment_declined
    $order->update_status('cancelled');
}
```

**‚úÖ –í—ã–≤–æ–¥:** HK Agency –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `OrderStatus` (integer) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (Table 2).

---

#### ‚ö†Ô∏è PlanetStudio - –ò–°–ü–û–õ–¨–ó–£–ï–¢ "Successful" –≤–º–µ—Å—Ç–æ "payment_deposited"
**–°—Ç—Ä–æ–∫–∞ 324:**
```php
if (is_object($response) && isset($response->ResponseCode) && $response->ResponseCode == "00") {
    // ...
    'Successful',  // –°—Ç—Ä–æ–∫–∞ 332
}
```

**‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞:** –ü–ª–∞–≥–∏–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `PaymentState = 'Successful'` –≤ –ë–î, –Ω–æ —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - `"payment_deposited"`.

**‚úÖ –í—ã–≤–æ–¥:** –ü–ª–∞–≥–∏–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ `ResponseCode == "00"`, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ù–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `"Successful"` –≤–º–µ—Å—Ç–æ `"payment_deposited"`.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: `PaymentState === 'payment_deposited' || PaymentState === 'Successful'` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `OrderStatus === 2`.

---

### 4. Description - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä

#### ‚ùå HK Agency - –ü–ï–†–ï–î–ê–ï–¢ –ü–£–°–¢–£–Æ –°–¢–†–û–ö–£
**–°—Ç—Ä–æ–∫–∞ 625:**
```php
"Description" => '',  // –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞!
```

**–°—Ç—Ä–æ–∫–∞ 677:**
```php
"Description" => '',  // –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞!
```

**‚ùå –ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, `Description` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä (Requirement: Yes). –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è, –Ω–æ –ª—É—á—à–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.

**‚úÖ –í—ã–≤–æ–¥:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è), –Ω–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º.

---

#### ‚úÖ PlanetStudio - –ü–†–ê–í–ò–õ–¨–ù–û
**–°—Ç—Ä–æ–∫–∞ 20:**
```php
$description = wp_parse_url( get_site_url() )['host'];  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ–º–µ–Ω —Å–∞–π—Ç–∞
```

**–°—Ç—Ä–æ–∫–∞ 199:**
```php
'Description' => $description,  // –ü–µ—Ä–µ–¥–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ
```

**‚úÖ –í—ã–≤–æ–¥:** PlanetStudio –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ–º–µ–Ω —Å–∞–π—Ç–∞ –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–∏–µ).

---

### 5. BackURL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã - —Ä–µ–≥–∏—Å—Ç—Ä –∏ –æ–ø–µ—á–∞—Ç–∫–∞

#### ‚úÖ PlanetStudio - –ü–†–ê–í–ò–õ–¨–ù–û (lowercase)
**–°—Ç—Ä–æ–∫–∞ 271:**
```php
if ($arca_process == 'payment_completed' && isset($_REQUEST['orderID']) && isset($_REQUEST['resposneCode']) && isset($_REQUEST['paymentID']) && isset($_REQUEST['currency'])) {
    $orderID = intval($_REQUEST['orderID']);  // lowercase
    $paymentID = sanitize_text_field($_REQUEST['paymentID']);  // lowercase
    $resposneCode = sanitize_text_field($_REQUEST['resposneCode']);  // –û–ø–µ—á–∞—Ç–∫–∞ –≤ API!
    $currency = sanitize_text_field($_REQUEST['currency']);  // lowercase
}
```

**‚úÖ –í—ã–≤–æ–¥:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç lowercase –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø–µ—á–∞—Ç–∫—É `resposneCode` (–≤–º–µ—Å—Ç–æ `responseCode`).

---

#### ‚úÖ HK Agency - –ü–†–ê–í–ò–õ–¨–ù–û (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç opaque)
**–°—Ç—Ä–æ–∫–∞ 1291:**
```php
$order = wc_get_order(sanitize_text_field($_GET['opaque']));  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç opaque –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```

**–°—Ç—Ä–æ–∫–∞ 622, 674:**
```php
"Opaque" => $order_id,  // –ü–µ—Ä–µ–¥–∞–µ—Ç order_id –≤ Opaque
```

**‚úÖ –í—ã–≤–æ–¥:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `opaque` –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–∞ (–ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞, —á–µ–º –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ orderID –æ—Ç –±–∞–Ω–∫–∞).

---

### 6. Timeout - –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è

#### ‚ùå –û–±–∞ –ø–ª–∞–≥–∏–Ω–∞ - –ù–ï –ü–ï–†–ï–î–ê–Æ–¢ Timeout
**PlanetStudio:** –ù–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `Timeout`.

**HK Agency:** –ù–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `Timeout`.

**‚úÖ –í—ã–≤–æ–¥:** –û–±–∞ –ø–ª–∞–≥–∏–Ω–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç `Timeout`, —á—Ç–æ –¥–æ–ø—É—Å—Ç–∏–º–æ (–ø–∞—Ä–∞–º–µ—Ç—Ä –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1200 —Å–µ–∫—É–Ω–¥).

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è —è–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–∏.

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | PlanetStudio | HK Agency | –°—Ç–∞—Ç—É—Å |
|----------|-------------------------|--------------|-----------|--------|
| **Currency** | –ß–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã ISO 4217 ("051", "978", "840", "643") | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ (—á–µ—Ä–µ–∑ –ë–î) | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ (–º–∞–ø–ø–∏–Ω–≥) | ‚úÖ –û–±–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ |
| **OrderID** | integer | ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º | ‚úÖ integer | ‚ö†Ô∏è PlanetStudio —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º |
| **PaymentState** | "payment_deposited" (OrderStatus: 2) | ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç "Successful" | ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç OrderStatus | ‚ö†Ô∏è PlanetStudio –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| **Description** | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π (Yes) | ‚úÖ –ü–µ—Ä–µ–¥–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ | ‚ö†Ô∏è –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ | ‚ö†Ô∏è HK Agency –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ |
| **BackURL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** | lowercase (orderID, resposneCode, opaque) | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ | ‚úÖ –û–±–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ |
| **Timeout** | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π (–º–∞–∫—Å. 1200) | ‚ùå –ù–µ –ø–µ—Ä–µ–¥–∞–µ—Ç | ‚ùå –ù–µ –ø–µ—Ä–µ–¥–∞–µ—Ç | ‚úÖ –û–±–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç (OK) |

---

## üéØ –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ –æ–±–æ–∏—Ö –ø–ª–∞–≥–∏–Ω–∞—Ö:
1. **Currency** - –æ–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã ISO 4217
2. **BackURL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –æ–±–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç lowercase –∏ –æ–ø–µ—á–∞—Ç–∫—É `resposneCode`
3. **Timeout** - –æ–±–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç (—á—Ç–æ –¥–æ–ø—É—Å—Ç–∏–º–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

#### PlanetStudio:
1. **OrderID —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º** - –ª—É—á—à–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å –≤ `Opaque`, –∞ OrderID –æ—Å—Ç–∞–≤–∏—Ç—å integer
2. **PaymentState** - –ª—É—á—à–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å `OrderStatus === 2` –∏–ª–∏ –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: `"payment_deposited"` –∏ `"Successful"`

#### HK Agency:
1. **Description** - –ª—É—á—à–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Order #12345")

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–∞—à–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. ‚úÖ **Currency:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã ISO 4217 ("051", "978", "840", "643") - –∫–∞–∫ –≤ –æ–±–æ–∏—Ö –ø–ª–∞–≥–∏–Ω–∞—Ö
2. ‚úÖ **OrderID:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å integer –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ (–ø—Ä–µ—Ñ–∏–∫—Å –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ `Opaque`)
3. ‚úÖ **PaymentState:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:
   - `PaymentState === 'payment_deposited'` (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ)
   - `PaymentState === 'Successful'` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø–ª–∞–≥–∏–Ω–∞—Ö)
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `OrderStatus === 2` (–∫–∞–∫ –≤ HK Agency)
4. ‚úÖ **Description:** –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Order #12345")
5. ‚úÖ **BackURL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å lowercase –∏ —É—á–∏—Ç—ã–≤–∞—Ç—å –æ–ø–µ—á–∞—Ç–∫—É `resposneCode`
6. ‚úÖ **Timeout:** –ú–æ–∂–Ω–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1200 —Å–µ–∫—É–Ω–¥), –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è —è–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è

---

## üîó –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–¥

- **PlanetStudio:** `example-Vpos/PlanetStudio Agency/arca-payment-gateway-test/endpoints/apg-ameria-bank.php`
- **HK Agency:** `example-Vpos/HK Agency/payment-gateway-for-ameriabank/includes/main.php`
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `example-Vpos/Documentation/AmeriaBank/vPOS - Ameriabank.md`
